<html>
	<head>
		<title>
			Decision System
		</title>
		<link rel="stylesheet" href="voting.css">
		<link rel="stylesheet" href="voting.css">
		<link rel="stylesheet" href="jquery.datatables.min.css">
		<link rel="stylesheet" href="voting.css">
		</link>
	</head>
	<body>
		<div id="vue">
			<nav-bar
					@showdecisions="showDecisions"
					@showgroups="showGroups"
					@showentities="showEntities"
					></nav-bar>
			<div v-if="areDecisionsRendered">
				<data-table
						:columns="decisionsColumns"  
						:data="decisions" 
						header="Decisions"
						></data-table>
			</div>
			<div v-if="areGroupsRendered">
				<data-table
						:columns="groupsColumns"  
						:data="groups" 
						header="Groups"
						></data-table>
			</div>
			<div v-if="areEntitiesRendered">
				<data-table
						:columns="entitiesColumns"  
						:data="entities" 
						header="Entities"
						></data-table>
			</div>
		</div>

		<template id="tmpNavBar">
			<div class="navbar">
				<span @click="showDecisions">Decisions</span>
				<span @click="showGroups">Groups</span>
				<span @click="showEntities">Entities</span>
			</div>
		</template>
		<template id="tmpDataTable">
			<div>			
				<h2>{{header}}</h2>
				<button id="btnCreate">Create</button>
				<table id="tblList" class="display compact" width="100%"></table>
			</div>		
		</template>
		<template id="tmpDecisionDetail">
			<h2>Decision</h2>
			<div v-if="!editable">
				<div>
					<label>Name:</label>
					<span>{{name}}</span>
				</div>
				<div>
					<label>Description:</label>
					<div>{{description}}</div>
				</div>
				<div>
					<label>Href:</label>
					<a href="href">{{href}}</a>
				</div>
				<div>
					<label>Scope:</label>
					<a href="scope.href">{{scope.name}}</a>
				</div>
				<div>
					<label>Voters:</label>
					<entity-list :list="voters" :editable="false">
					</entity-list>
				</div>
			</div>
			<div v-if="editable">
				<div>
					<label>Name:</label>
					<input type="text">{{name}}</input>
				</div>
				<div>
					<label>Description:</label>
					<textarea>{{description}}</textarea>
				</div>
				<div>
					<label>Scope:</label>
					<group-list v-model="scope">
					</group-list>
				</div>
				<!-- todo pass in selection event -->
				<div>
					<label>Voters:</label>
					<entity-list :list="voters" :editable="true">
					</entity-list>
				</div>
			</div>
		</template>
		<template id="tmpGroupDetail">
			<h2>Group</h2>
			<div v-if="!editable">
				<div>
					<label>Name:</label>
					<span>{{name}}</span>
				</div>
				<div>
					<label>Description:</label>
					<div>{{description}}</div>
				</div>
				<div>
					<label>Href:</label>
					<a href="href">{{href}}</a>
				</div>
				<div>
					<label>Parent:</label>
					<a href="parent.href">{{parent.name}}</a>
				</div>
				<div>
					<label>Children:</label>
					<entity-list :list="children" :editable="false">
					</entity-list>
				</div>
			</div>
			<div v-if="editable">
				<div>
					<label>Name:</label>
					<input type="text">{{name}}</input>
				</div>
				<div>
					<label>Description:</label>
					<textarea>{{description}}</textarea>
				</div>
				<div>
					<label>Scope:</label>
					<group-list v-model="scope">
					</group-list>
				</div>
				<!-- todo pass in selection event -->
				<div>
					<label>Parent:</label>
					<group-list :list="getGroups" editable="true">
					</group-list>
				</div>
				<div>
					<label>Children:</label>
					<entity-list :list="children" editable="true">
					</entity-list>
				</div>
			</div>
		</template>
		<template id="tmpEntityDetail">
			<h2>Entity</h2>
			<div v-if="!editable">
				<div>
					<label>Name:</label>
					<span>{{name}}</span>
				</div>
				<div>
					<label>Description:</label>
					<div>{{description}}</div>
				</div>
				<div>
					<label>Href:</label>
					<a href="href">{{href}}</a>
				</div>
				<div>
					<label>Scope:</label>
					<a href="scope.href">{{scope.name}}</a>
				</div>
				<div>
					<label>Parent:</label>
					<a href="href">{{href}}</a>
				</div>
			</div>
			<div v-if="editable">
				<div>
					<label>Name:</label>
					<input type="text">{{name}}</input>
				</div>
				<div>
					<label>Description:</label>
					<textarea>{{description}}</textarea>
				</div>
				<div>
					<label>Scope:</label>
					<group-list v-model="scope">
					</group-list>
				</div>
				<!-- todo pass in selection event -->
				<div>
					<label>Voters:</label>
					<entity-list :list="voters" :editable="true">
					</entity-list>
				</div>
			</div>
		</template>
		<script src="webcomponents-loader.js">
		</script>
		<script src="vue.js">
		</script>
		<!-- <script src="vue.min.js">
</script> -->
		<script src="jquery-3.4.1.js">
		</script>
		<script src="jquery-ui.js">
		</script>
		<script src="jquery.datetimepicker.full.min.js">
		</script>
		<script src="jquery.datatables.min.js">
		</script>
		<script src="jstree.js">
		</script>
		<script src="voting.js">
		</script>
	</body>
</html>
